"use strict";(self.webpackChunkanotate_shell=self.webpackChunkanotate_shell||[]).push([[5502],{5502:(t,e,n)=>{n.r(e),n.d(e,{Content:()=>U,Drawer:()=>Y,NestedRoot:()=>j,Overlay:()=>z,Root:()=>L});var r=n(4220),a=n(4146);const o=a.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1}),i=()=>{const t=a.useContext(o);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};!function(t){if(!t||"undefined"==typeof document)return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}("[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.data-vaul-dragging .data-vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.data-vaul-dragging .data-vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.data-vaul-dragging .data-vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.data-vaul-dragging .data-vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-vaul-snap-points=false][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(\n[data-state=closed]\n){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}");const l="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;function s(...t){return(...e)=>{for(let n of t)"function"==typeof n&&n(...e)}}function u(){return c(/^iPad/)||c(/^Mac/)&&navigator.maxTouchPoints>1}function d(){return c(/^iPhone/)||u()}function c(t){return"undefined"!=typeof window&&null!=window.navigator?t.test(window.navigator.platform):void 0}const f="undefined"!=typeof document&&window.visualViewport;function p(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function m(t){for(p(t)&&(t=t.parentElement);t&&!p(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const v=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let g,h=0;function w(t={}){let{isDisabled:e}=t;l((()=>{if(!e)return h++,1===h&&(g=d()?function(){let t,e=0,n=n=>{t=m(n.target),t===document.documentElement&&t===document.body||(e=n.changedTouches[0].pageY)},r=n=>{if(!t||t===document.documentElement||t===document.body)return void n.preventDefault();let r=n.changedTouches[0].pageY,a=t.scrollTop,o=t.scrollHeight-t.clientHeight;0!==o&&((a<=0&&r>e||a>=o&&r<e)&&n.preventDefault(),e=r)},a=t=>{let e=t.target;E(e)&&e!==document.activeElement&&(t.preventDefault(),e.style.transform="translateY(-2000px)",e.focus(),requestAnimationFrame((()=>{e.style.transform=""})))},o=t=>{let e=t.target;E(e)&&(e.style.transform="translateY(-2000px)",requestAnimationFrame((()=>{e.style.transform="",f&&(f.height<window.innerHeight?requestAnimationFrame((()=>{R(e)})):f.addEventListener("resize",(()=>R(e)),{once:!0}))})))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,u=window.pageYOffset,d=s(y(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"));window.scrollTo(0,0);let c=s(b(document,"touchstart",n,{passive:!1,capture:!0}),b(document,"touchmove",r,{passive:!1,capture:!0}),b(document,"touchend",a,{passive:!1,capture:!0}),b(document,"focus",o,!0),b(window,"scroll",i));return()=>{d(),c(),window.scrollTo(l,u)}}():s(y(document.documentElement,"paddingRight",window.innerWidth-document.documentElement.clientWidth+"px"))),()=>{h--,0===h&&g()}}),[e])}function y(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function R(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let e=m(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let n=e.getBoundingClientRect().top,r=t.getBoundingClientRect().top;t.getBoundingClientRect().bottom>e.getBoundingClientRect().bottom&&(e.scrollTop+=r-n)}t=e.parentElement}}function E(t){return t instanceof HTMLInputElement&&!v.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function P(...t){return a.useCallback(function(...t){return e=>t.forEach((t=>function(t,e){"function"==typeof t?t(e):null!=t&&(t.current=e)}(t,e)))}(...t),t)}const D=new WeakMap;function x(t,e,n=!1){if(!(t&&t instanceof HTMLElement))return;let r={};Object.entries(e).forEach((([e,n])=>{e.startsWith("--")?t.style.setProperty(e,n):(r[e]=t.style[e],t.style[e]=n)})),n||D.set(t,r)}const T=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function O(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[T(e)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[T(e)?5:4]):null)}function S(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}const $={DURATION:.5,EASE:[.32,.72,0,1]},C=.4,A=.25,k=100,N=8,M=16,I=26,B="vaul-dragging";function F(t){const e=a.useRef(t);return a.useEffect((()=>{e.current=t})),a.useMemo((()=>(...t)=>null==e.current?void 0:e.current.call(e,...t)),[])}function W({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=function({defaultProp:t,onChange:e}){const n=a.useState(t),[r]=n,o=a.useRef(r),i=F(e);return a.useEffect((()=>{o.current!==r&&(i(r),o.current=r)}),[r,o,i]),n}({defaultProp:e,onChange:n}),i=void 0!==t,l=i?t:r,s=F(n),u=a.useCallback((e=>{if(i){const n="function"==typeof e?e(t):e;n!==t&&s(n)}else o(e)}),[i,t,o,s]);return[l,u]}const H=()=>()=>{};function L({open:t,onOpenChange:e,children:n,onDrag:i,onRelease:l,snapPoints:s,shouldScaleBackground:u=!1,setBackgroundColorOnScale:c=!0,closeThreshold:f=A,scrollLockTimeout:p=k,dismissible:m=!0,fadeFromIndex:v=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:h,fixed:y,modal:b=!0,onClose:R,noBodyStyles:P,direction:D="bottom",defaultOpen:S=!1,repositionInputs:F=!0}){var H;const[L=!1,z]=W({defaultProp:S,prop:t,onChange:e}),[U,j]=a.useState(!1),[Y,q]=a.useState(!1),[X,V]=a.useState(!1),_=a.useRef(null),K=a.useRef(null),G=a.useRef(null),J=a.useRef(null),Q=a.useRef(null),Z=a.useRef(!1),tt=a.useRef(null),et=a.useRef(0),nt=a.useRef(!1),rt=a.useRef(0),at=a.useRef(null),ot=a.useRef((null==(H=at.current)?void 0:H.getBoundingClientRect().height)||0),it=a.useRef(0),lt=a.useCallback((t=>{s&&t===ft.length-1&&(K.current=new Date)}),[]),{activeSnapPoint:st,activeSnapPointIndex:ut,setActiveSnapPoint:dt,onRelease:ct,snapPointsOffset:ft,onDrag:pt,shouldFade:mt,getPercentageDragged:vt}=function({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:o,fadeFromIndex:i,onSnapPointChange:l,direction:s="bottom"}){const[u,d]=W({prop:t,defaultProp:null==n?void 0:n[0],onChange:e}),[c,f]=a.useState("undefined"!=typeof window?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);a.useEffect((()=>{function t(){f({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]);const p=a.useMemo((()=>u===(null==n?void 0:n[n.length-1])||null),[n,u]),m=n&&n.length>0&&(i||0===i)&&!Number.isNaN(i)&&n[i]===u||!n,v=a.useMemo((()=>null==n?void 0:n.findIndex((t=>t===u))),[n,u]),g=a.useMemo((()=>{var t;return null!=(t=null==n?void 0:n.map((t=>{const e="string"==typeof t;let n=0;if(e&&(n=parseInt(t,10)),T(s)){const r=e?n:c?t*c.innerHeight:0;return c?"bottom"===s?c.innerHeight-r:-c.innerHeight+r:r}const r=e?n:c?t*c.innerWidth:0;return c?"right"===s?c.innerWidth-r:-c.innerWidth+r:r})))?t:[]}),[n,c]),h=a.useMemo((()=>null!==v?null==g?void 0:g[v]:null),[g,v]),w=a.useCallback((t=>{var e;const a=null!=(e=null==g?void 0:g.findIndex((e=>e===t)))?e:null;l(a),x(r.current,{transition:`transform ${$.DURATION}s cubic-bezier(${$.EASE.join(",")})`,transform:T(s)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`}),g&&a!==g.length-1&&a!==i?x(o.current,{transition:`opacity ${$.DURATION}s cubic-bezier(${$.EASE.join(",")})`,opacity:"0"}):x(o.current,{transition:`opacity ${$.DURATION}s cubic-bezier(${$.EASE.join(",")})`,opacity:"1"}),d(null!==a?null==n?void 0:n[a]:null)}),[r.current,n,g,i,o,d]);return a.useEffect((()=>{if(u||t){var e;const r=null!=(e=null==n?void 0:n.findIndex((e=>e===t||e===u)))?e:-1;g&&-1!==r&&"number"==typeof g[r]&&w(g[r])}}),[u,t,n,g,w]),{isLastSnapPoint:p,activeSnapPoint:u,shouldFade:m,getPercentageDragged:function(t,e){if(!n||"number"!=typeof v||!g||void 0===i)return null;const r=v===i-1;if(v>=i&&e)return 0;if(r&&!e)return 1;if(!m&&!r)return null;const a=r?v+1:v-1,o=r?g[a]-g[a-1]:g[a+1]-g[a],l=t/Math.abs(o);return r?1-l:l},setActiveSnapPoint:d,activeSnapPointIndex:v,onRelease:function({draggedDistance:t,closeDrawer:e,velocity:r,dismissible:a}){if(void 0===i)return;const l="bottom"===s||"right"===s?(null!=h?h:0)-t:(null!=h?h:0)+t,u=0===v,d=t>0;if(v===i-1&&x(o.current,{transition:`opacity ${$.DURATION}s cubic-bezier(${$.EASE.join(",")})`}),r>2&&!d)return void(a?e():w(g[0]));if(r>2&&d&&g&&n)return void w(g[n.length-1]);const c=null==g?void 0:g.reduce(((t,e)=>"number"!=typeof t||"number"!=typeof e?t:Math.abs(e-l)<Math.abs(t-l)?e:t)),f=T(s)?window.innerHeight:window.innerWidth;if(r>C&&Math.abs(t)<.4*f){const t=d?1:-1;if(t>0&&p)return void w(g[n.length-1]);if(u&&t<0&&a&&e(),null===v)return;w(g[v+t])}else w(c)},onDrag:function({draggedDistance:t}){if(null===h)return;const e="bottom"===s||"right"===s?h-t:h+t;("bottom"===s||"right"===s)&&e<g[g.length-1]||("top"===s||"left"===s)&&e>g[g.length-1]||x(r.current,{transform:T(s)?`translate3d(0, ${e}px, 0)`:`translate3d(${e}px, 0, 0)`})},snapPointsOffset:g}}({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:h,drawerRef:at,fadeFromIndex:v,overlayRef:_,onSnapPointChange:lt,direction:D});function gt(){return(window.innerWidth-I)/window.innerWidth}function ht(t,e){var n;let r=t;const a=null==(n=window.getSelection())?void 0:n.toString(),o=at.current?O(at.current,D):null,i=new Date;if(r.hasAttribute("data-vaul-no-drag")||r.closest("[data-vaul-no-drag]"))return!1;if("right"===D||"left"===D)return!0;if(K.current&&i.getTime()-K.current.getTime()<500)return!1;if(null!==o&&("bottom"===D?o>0:o<0))return!0;if(a&&a.length>0)return!1;if(Q.current&&i.getTime()-Q.current.getTime()<p&&0===o)return Q.current=i,!1;if(e)return Q.current=i,!1;for(;r;){if(r.scrollHeight>r.clientHeight){if(0!==r.scrollTop)return Q.current=new Date,!1;if("dialog"===r.getAttribute("role"))return!0}r=r.parentNode}return!0}function wt(){!function(){if(!Y||!at.current)return;at.current.classList.remove(B),Z.current=!1,q(!1),J.current=new Date}(),null==R||R(),z(!1),setTimeout((()=>{s&&dt(s[0])}),1e3*$.DURATION)}function yt(){if(!at.current)return;const t=document.querySelector("[data-vaul-drawer-wrapper]"),e=O(at.current,D);x(at.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${$.DURATION}s cubic-bezier(${$.EASE.join(",")})`}),x(_.current,{transition:`opacity ${$.DURATION}s cubic-bezier(${$.EASE.join(",")})`,opacity:"1"}),u&&e&&e>0&&L&&x(t,{borderRadius:`${N}px`,overflow:"hidden",...T(D)?{transform:`scale(${gt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${gt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${$.DURATION}s`,transitionTimingFunction:`cubic-bezier(${$.EASE.join(",")})`},!0)}return w({isDisabled:!L||Y||!b||X||!U||!F}),a.useEffect((()=>{var t;function e(){if(!at.current)return;if(E(document.activeElement)||nt.current){var t;const e=(null==(t=window.visualViewport)?void 0:t.height)||0;let n=window.innerHeight-e;const r=at.current.getBoundingClientRect().height||0;it.current||(it.current=r);const a=at.current.getBoundingClientRect().top;if(Math.abs(rt.current-n)>60&&(nt.current=!nt.current),s&&s.length>0&&ft&&ut){n+=ft[ut]||0}if(rt.current=n,r>e||nt.current){const t=at.current.getBoundingClientRect().height;let r=t;t>e&&(r=e-I),at.current.style.height=y?t-Math.max(n,0)+"px":`${Math.max(r,e-a)}px`}else at.current.style.height=`${it.current}px`;s&&s.length>0&&!nt.current?at.current.style.bottom="0px":at.current.style.bottom=`${Math.max(n,0)}px`}}return null==(t=window.visualViewport)||t.addEventListener("resize",e),()=>{var t;return null==(t=window.visualViewport)?void 0:t.removeEventListener("resize",e)}}),[ut,s,ft]),a.useEffect((()=>{L&&(x(document.documentElement,{scrollBehavior:"auto"}),K.current=new Date)}),[L]),a.useEffect((()=>{if(at.current){var t;const e=null==at||null==(t=at.current)?void 0:t.querySelectorAll("*");null==e||e.forEach((t=>{const e=t;(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)&&e.classList.add("vaul-scrollable")}))}}),[L]),a.createElement(r.Root,{defaultOpen:S,modal:b,onOpenChange:t=>{t&&j(!0),z(t)},open:L},a.createElement(o.Provider,{value:{activeSnapPoint:st,snapPoints:s,setActiveSnapPoint:dt,drawerRef:at,overlayRef:_,onOpenChange:e,onPress:function(t){var e;(m||s)&&(at.current&&!at.current.contains(t.target)||(ot.current=(null==(e=at.current)?void 0:e.getBoundingClientRect().height)||0,q(!0),G.current=new Date,d()&&window.addEventListener("touchend",(()=>Z.current=!1),{once:!0}),t.target.setPointerCapture(t.pointerId),et.current=T(D)?t.clientY:t.clientX))},onRelease:function(t){if(!Y||!at.current)return;at.current.classList.remove(B),Z.current=!1,q(!1),J.current=new Date;const e=O(at.current,D);if(!ht(t.target,!1)||!e||Number.isNaN(e))return;if(null===G.current)return;const n=J.current.getTime()-G.current.getTime(),r=et.current-(T(D)?t.clientY:t.clientX),a=Math.abs(r)/n;if(a>.05&&(V(!0),setTimeout((()=>{V(!1)}),200)),s){return ct({draggedDistance:r*("bottom"===D||"right"===D?1:-1),closeDrawer:wt,velocity:a,dismissible:m}),void(null==l||l(t,!0))}if("bottom"===D||"right"===D?r>0:r<0)return yt(),void(null==l||l(t,!0));if(a>C)return wt(),void(null==l||l(t,!1));var o;if(e>=Math.min(null!=(o=at.current.getBoundingClientRect().height)?o:0,window.innerHeight)*f)return wt(),void(null==l||l(t,!1));null==l||l(t,!0),yt()},onDrag:function(t){var e;if(at.current&&Y){const n="bottom"===D||"right"===D?1:-1,r=(et.current-(T(D)?t.clientY:t.clientX))*n,a=r>0,o=s&&!m&&!a;if(o&&0===ut)return;const l=Math.abs(r),d=document.querySelector("[data-vaul-drawer-wrapper]");let c=l/ot.current;const f=vt(l,a);if(null!==f&&(c=f),o&&c>=1)return;if(!Z.current&&!ht(t.target,a))return;if(at.current.classList.add(B),Z.current=!0,x(at.current,{transition:"none"}),x(_.current,{transition:"none"}),s&&pt({draggedDistance:r}),a&&!s){const t=(e=r,8*(Math.log(e+1)-2)),a=Math.min(-1*t,0)*n;return void x(at.current,{transform:T(D)?`translate3d(0, ${a}px, 0)`:`translate3d(${a}px, 0, 0)`})}const p=1-c;if((mt||v&&ut===v-1)&&(null==i||i(t,c),x(_.current,{opacity:`${p}`,transition:"none"},!0)),d&&_.current&&u){const t=Math.min(gt()+c*(1-gt()),1),e=8-8*c,n=Math.max(0,14-14*c);x(d,{borderRadius:`${e}px`,transform:T(D)?`scale(${t}) translate3d(0, ${n}px, 0)`:`scale(${t}) translate3d(${n}px, 0, 0)`,transition:"none"},!0)}if(!s){const t=l*n;x(at.current,{transform:T(D)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})}}},dismissible:m,isOpen:L,isDragging:Y,shouldFade:mt,closeDrawer:wt,onNestedDrag:function(t,e){if(e<0)return;const n=T(D)?window.innerHeight:window.innerWidth,r=(n-M)/n,a=r+e*(1-r),o=e*M-M;x(at.current,{transform:T(D)?`scale(${a}) translate3d(0, ${o}px, 0)`:`scale(${a}) translate3d(${o}px, 0, 0)`,transition:"none"})},onNestedOpenChange:function(t){const e=t?(window.innerWidth-M)/window.innerWidth:1,n=t?-M:0;tt.current&&window.clearTimeout(tt.current),x(at.current,{transition:`transform ${$.DURATION}s cubic-bezier(${$.EASE.join(",")})`,transform:`scale(${e}) translate3d(0, ${n}px, 0)`}),!t&&at.current&&(tt.current=setTimeout((()=>{const t=O(at.current,D);x(at.current,{transition:"none",transform:T(D)?`translate3d(0, ${t}px, 0)`:`translate3d(${t}px, 0, 0)`})}),500))},onNestedRelease:function(t,e){const n=T(D)?window.innerHeight:window.innerWidth,r=e?(n-M)/n:1,a=e?-M:0;e&&x(at.current,{transition:`transform ${$.DURATION}s cubic-bezier(${$.EASE.join(",")})`,transform:T(D)?`scale(${r}) translate3d(0, ${a}px, 0)`:`scale(${r}) translate3d(${a}px, 0, 0)`})},keyboardIsOpen:nt,modal:b,snapPointsOffset:ft,direction:D,shouldScaleBackground:u,setBackgroundColorOnScale:c,noBodyStyles:P}},n))}const z=a.forwardRef((function({children:t,...e},n){const{overlayRef:o,snapPoints:l,onRelease:s,shouldFade:u,isOpen:d}=i(),c=P(n,o),f=l&&l.length>0;return a.createElement(r.Overlay,{onMouseUp:s,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":d&&f?"true":"false","data-vaul-snap-points-overlay":d&&u?"true":"false",...e})}));z.displayName="Drawer.Overlay";const U=a.forwardRef((function({onOpenAutoFocus:t,onPointerDownOutside:e,onAnimationEnd:n,style:o,...l},s){const{drawerRef:u,onPress:d,onRelease:c,onDrag:f,keyboardIsOpen:p,snapPointsOffset:m,modal:v,isOpen:g,direction:h,snapPoints:w}=i(),[y,b]=a.useState(!1),R=P(s,u),E=a.useRef(null),D=a.useRef(!1),x=w&&w.length>0;!function(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:o}=i(),l=a.useRef(null),s=(0,a.useMemo)((()=>document.body.style.backgroundColor),[]);function u(){return(window.innerWidth-I)/window.innerWidth}a.useEffect((()=>{if(e&&n){l.current&&clearTimeout(l.current);const e=document.querySelector("[data-vaul-drawer-wrapper]"),n=function(...t){return(...e)=>{for(const n of t)"function"==typeof n&&n(...e)}}(r&&!o?S(document.body,{background:"black"}):H,S(e,{transformOrigin:T(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${$.DURATION}s`,transitionTimingFunction:`cubic-bezier(${$.EASE.join(",")})`})),a=S(e,{borderRadius:`${N}px`,overflow:"hidden",...T(t)?{transform:`scale(${u()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${u()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{a(),l.current=window.setTimeout((()=>{n(),s?document.body.style.background=s:document.body.style.removeProperty("background")}),1e3*$.DURATION)}}}),[e,n,s])}();return(0,a.useEffect)((()=>{x&&window.requestAnimationFrame((()=>{b(!0)}))}),[]),a.createElement(r.Content,{"data-vaul-drawer-direction":h,"data-vaul-drawer":"","data-vaul-delayed-snap-points":y?"true":"false","data-vaul-snap-points":g&&x?"true":"false",...l,ref:R,style:m&&m.length>0?{"--snap-point-height":`${m[0]}px`,...o}:o,onOpenAutoFocus:e=>{var n;t?t(e):(e.preventDefault(),null==(n=u.current)||n.focus())},onPointerDown:t=>{null==l.onPointerDown||l.onPointerDown.call(l,t),E.current={x:t.clientX,y:t.clientY},d(t)},onPointerDownOutside:t=>{null==e||e(t),v&&!t.defaultPrevented?p.current&&(p.current=!1):t.preventDefault()},onFocusOutside:t=>{v||t.preventDefault()},onEscapeKeyDown:t=>{v||t.preventDefault()},onPointerMove:t=>{if(null==l.onPointerMove||l.onPointerMove.call(l,t),!E.current)return;const e=t.clientY-E.current.y,n=t.clientX-E.current.x,r="touch"===t.pointerType?10:2,a=((t,e,n=0)=>{if(D.current)return!0;const r=Math.abs(t.y),a=Math.abs(t.x),o=a>r,i=["bottom","right"].includes(e)?1:-1;if("left"===e||"right"===e){if(!(t.x*i<0)&&a>=0&&a<=n)return o}else if(!(t.y*i<0)&&r>=0&&r<=n)return!o;return D.current=!0,!0})({x:n,y:e},h,r);a?f(t):(Math.abs(n)>r||Math.abs(e)>r)&&(E.current=null)},onPointerUp:t=>{null==l.onPointerUp||l.onPointerUp.call(l,t),E.current=null,D.current=!1,c(t)}})}));function j({onDrag:t,onOpenChange:e,...n}){const{onNestedDrag:r,onNestedOpenChange:o,onNestedRelease:l}=i();if(!r)throw new Error("Drawer.NestedRoot must be placed in another drawer");return a.createElement(L,{nested:!0,onClose:()=>{o(!1)},onDrag:(e,n)=>{r(e,n),null==t||t(e,n)},onOpenChange:t=>{t&&o(t),null==e||e(t)},onRelease:l,...n})}U.displayName="Drawer.Content";const Y={Root:L,NestedRoot:j,Content:U,Overlay:z,Trigger:r.Trigger,Portal:r.Portal,Close:r.Close,Title:r.Title,Description:r.Description}}}]);