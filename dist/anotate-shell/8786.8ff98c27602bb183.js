"use strict";(self.webpackChunkanotate_shell=self.webpackChunkanotate_shell||[]).push([[8786],{8786:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var t=a(4146),l=a(4999),i=a(2712),c=a(2540);const r=({placeholder:e="Search images...",onSearch:s,value:a="",onChange:t})=>(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s&&s(a||"")},className:"flex w-full max-w-3xl gap-2",children:[(0,c.jsxs)("div",{className:"relative flex-grow",children:[(0,c.jsx)(l.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,c.jsx)(i.Input,{type:"text",placeholder:e,className:"pl-9 pr-12 py-6 text-base rounded-lg border-muted",value:a,onChange:t})]}),(0,c.jsx)(i.Button,{type:"submit",className:"px-6",children:"Search"})]}),n=({src:e,alt:s="Image",title:a,similarity:r,onView:n,onEdit:o,onDelete:d})=>{const[m,h]=(0,t.useState)(!1);return(0,c.jsx)("div",{className:"image-card group bg-white rounded-lg overflow-hidden",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:(0,c.jsxs)("div",{className:"relative aspect-square overflow-hidden",children:[(0,c.jsx)("img",{src:e,alt:s,className:"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105"}),(0,c.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 p-3 flex flex-col justify-end",children:[void 0!==r&&(0,c.jsxs)("div",{className:"bg-black/60 text-white text-xs font-medium px-2 py-1 rounded-full w-fit mb-2",children:[Math.round(100*r),"% match"]}),a&&(0,c.jsx)("h3",{className:"text-white font-medium truncate text-sm",children:a}),(0,c.jsxs)("div",{className:"flex gap-1 mt-2",children:[n&&(0,c.jsx)(i.Button,{size:"icon",variant:"secondary",className:"h-7 w-7",onClick:e=>{e.stopPropagation(),n()},children:(0,c.jsx)(l.Maximize2,{className:"h-3.5 w-3.5"})}),o&&(0,c.jsx)(i.Button,{size:"icon",variant:"secondary",className:"h-7 w-7",onClick:e=>{e.stopPropagation(),o()},children:(0,c.jsx)(l.Edit,{className:"h-3.5 w-3.5"})}),d&&(0,c.jsx)(i.Button,{size:"icon",variant:"destructive",className:"h-7 w-7",onClick:e=>{e.stopPropagation(),d()},children:(0,c.jsx)(l.Trash2,{className:"h-3.5 w-3.5"})})]})]})]})})},o=[{id:1,src:"https://images.unsplash.com/photo-1579353977828-2a4eab540b9a",title:"Sunset at the beach"},{id:2,src:"https://images.unsplash.com/photo-1579762593131-b8945254345c",title:"Mountain landscape"},{id:3,src:"https://images.unsplash.com/photo-1584559582128-b8be739912e0",title:"Urban cityscape"},{id:4,src:"https://images.unsplash.com/photo-1564979045531-fa386a275b27",title:"Forest pathway"},{id:5,src:"https://images.unsplash.com/photo-1596662951482-0c4ba74a6df6",title:"Ocean view"},{id:6,src:"https://images.unsplash.com/photo-1611816055460-618287c870bd",title:"Desert landscape"}],d=[{value:"clip-vit-base",label:"CLIP ViT-B/32",category:"Vector Embedding"},{value:"clip-vit-large",label:"CLIP ViT-L/14",category:"Vector Embedding"},{value:"open-clip",label:"OpenCLIP ViT-H/14",category:"Vector Embedding"}],m=()=>{var e;const[s,a]=(0,t.useState)(""),[m,h]=(0,t.useState)("clip-vit-base"),[u,x]=(0,t.useState)([]),[g,p]=(0,t.useState)(!1),[f,j]=(0,t.useState)("semantic");return(0,c.jsxs)("div",{className:"w-full",children:[(0,c.jsxs)(i.Card,{className:"mb-6",children:[(0,c.jsx)(i.CardHeader,{children:(0,c.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(i.CardTitle,{className:"text-xl",children:"Prompt-based Image Search"}),(0,c.jsx)(i.CardDescription,{children:"Use natural language to search for images based on semantic meaning"})]}),(0,c.jsx)("div",{className:"flex items-center gap-2",children:(0,c.jsxs)(i.Badge,{variant:"outline",className:"gap-1",children:[(0,c.jsx)(l.Info,{className:"h-3 w-3"}),"Using ",(null==(e=d.find((e=>e.value===m)))?void 0:e.label)||"Default Model"]})})]})}),(0,c.jsx)(i.CardContent,{children:(0,c.jsx)("div",{className:"space-y-4",children:(0,c.jsxs)(i.Tabs,{value:f,onValueChange:j,className:"w-full",children:[(0,c.jsxs)(i.TabsList,{className:"grid grid-cols-2 w-[300px]",children:[(0,c.jsx)(i.TabsTrigger,{value:"semantic",children:"Semantic Search"}),(0,c.jsx)(i.TabsTrigger,{value:"metadata",children:"Metadata Search"})]}),(0,c.jsx)(i.TabsContent,{value:"semantic",className:"pt-4",children:(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,c.jsx)("div",{className:"flex-1",children:(0,c.jsx)(r,{placeholder:"Describe the images you're looking for...",value:s,onChange:e=>{a(e.target.value||"")},onSearch:e=>{e.trim()&&(p(!0),a(e),setTimeout((()=>{x(o||[]),p(!1)}),1e3))}})}),(0,c.jsx)("div",{className:"w-full sm:w-60",children:(0,c.jsx)(i.ModelSelector,{options:d,value:m,onValueChange:h})})]}),(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:'Try: "sunset over mountains", "people working in office", "food on a plate"'})]})}),(0,c.jsx)(i.TabsContent,{value:"metadata",className:"pt-4",children:(0,c.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,c.jsx)(r,{placeholder:"Search by file name, tags, or other metadata..."}),(0,c.jsx)("div",{className:"text-sm text-muted-foreground",children:"Search by filename, creation date, size, tags and other metadata"})]})})]})})})]}),s&&(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("h3",{className:"text-lg font-medium",children:['Results for "',s,'"']}),u&&u.length>0&&(0,c.jsxs)("span",{className:"text-sm text-muted-foreground",children:[u.length," results"]})]}),g?(0,c.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map((e=>(0,c.jsx)("div",{className:"aspect-square bg-muted animate-pulse rounded-lg"},e)))}):u&&u.length>0?(0,c.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:u.map((e=>(0,c.jsx)(n,{src:e.src,alt:e.title,title:e.title,onView:()=>console.log("View",e.id),onEdit:()=>console.log("Edit",e.id)},e.id)))}):(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No results found"}),(0,c.jsx)("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search query or select a different embedding model"}),(0,c.jsx)(i.Button,{onClick:()=>a(""),children:"Clear search"})]})]})]})};const h=function(){return(0,c.jsx)("div",{children:(0,c.jsx)(m,{})})}}}]);