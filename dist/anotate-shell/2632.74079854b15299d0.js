"use strict";(self.webpackChunkanotate_shell=self.webpackChunkanotate_shell||[]).push([[2632],{2541:(e,n,t)=>{t.d(n,{C:()=>a});var r=t(4146),o=t(6822),s=t(4853),i=t(1610);var a=e=>{const{present:n,children:t}=e,a=function(e){const[n,t]=r.useState(),s=r.useRef({}),a=r.useRef(e),c=r.useRef("none"),d=e?"mounted":"unmounted",[l,f]=function(e,n){return r.useReducer(((e,t)=>n[e][t]??e),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect((()=>{const e=u(s.current);c.current="mounted"===l?e:"none"}),[l]),(0,i.N)((()=>{const n=s.current,t=a.current;if(t!==e){const r=c.current,o=u(n);if(e)f("MOUNT");else if("none"===o||"none"===n?.display)f("UNMOUNT");else{f(t&&r!==o?"ANIMATION_OUT":"UNMOUNT")}a.current=e}}),[e,f]),(0,i.N)((()=>{if(n){const e=e=>{const t=u(s.current).includes(e.animationName);e.target===n&&t&&o.flushSync((()=>f("ANIMATION_END")))},t=e=>{e.target===n&&(c.current=u(s.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}f("ANIMATION_END")}),[n,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback((e=>{e&&(s.current=getComputedStyle(e)),t(e)}),[])}}(n),c="function"==typeof t?t({present:a.isPresent}):r.Children.only(t),d=(0,s.s)(a.ref,function(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;if(t)return e.ref;if(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t)return e.props.ref;return e.props.ref||e.ref}(c));return"function"==typeof t||a.isPresent?r.cloneElement(c,{ref:d}):null};function u(e){return e?.animationName||"none"}a.displayName="Presence"},2632:(e,n,t)=>{t.r(n),t.d(n,{Arrow:()=>V,Content:()=>Q,HoverCard:()=>k,HoverCardArrow:()=>z,HoverCardContent:()=>W,HoverCardPortal:()=>U,HoverCardTrigger:()=>M,Portal:()=>J,Root:()=>K,Trigger:()=>q,createHoverCardScope:()=>x});var r=t(4146),o=t(8707),s=t(8303),i=t(2545),a=t(4853),u=t(4979),c=t(6822),d=t(9409),l=t(1610),f=t(2540),p=r.forwardRef(((e,n)=>{const{container:t,...o}=e,[s,i]=r.useState(!1);(0,l.N)((()=>i(!0)),[]);const a=t||s&&globalThis?.document?.body;return a?c.createPortal((0,f.jsx)(d.sG.div,{...o,ref:n}),a):null}));p.displayName="Portal";var v,m=t(2541),h=t(4557),E=t(8559),C="dismissableLayer.update",y="dismissableLayer.pointerDownOutside",w="dismissableLayer.focusOutside",b=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),O=r.forwardRef(((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:u,onInteractOutside:c,onDismiss:l,...p}=e,m=r.useContext(b),[O,P]=r.useState(null),D=O?.ownerDocument??globalThis?.document,[,T]=r.useState({}),R=(0,a.s)(n,(e=>P(e))),x=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),L=x.indexOf(S),_=O?x.indexOf(O):-1,k=m.layersWithOutsidePointerEventsDisabled.size>0,H=_>=L,M=function(e,n=globalThis?.document){const t=(0,h.c)(e),o=r.useRef(!1),s=r.useRef((()=>{}));return r.useEffect((()=>{const e=e=>{if(e.target&&!o.current){let r=function(){N(y,t,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",s.current),s.current=r,n.addEventListener("click",s.current,{once:!0})):r()}else n.removeEventListener("click",s.current);o.current=!1},r=window.setTimeout((()=>{n.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(r),n.removeEventListener("pointerdown",e),n.removeEventListener("click",s.current)}}),[n,t]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const n=e.target,t=[...m.branches].some((e=>e.contains(n)));H&&!t&&(i?.(e),c?.(e),e.defaultPrevented||l?.())}),D),j=function(e,n=globalThis?.document){const t=(0,h.c)(e),o=r.useRef(!1);return r.useEffect((()=>{const e=e=>{if(e.target&&!o.current){N(w,t,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)}),[n,t]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const n=e.target;[...m.branches].some((e=>e.contains(n)))||(u?.(e),c?.(e),e.defaultPrevented||l?.())}),D);return(0,E.U)((e=>{_===m.layers.size-1&&(s?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))}),D),r.useEffect((()=>{if(O)return t&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(v=D.body.style.pointerEvents,D.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(O)),m.layers.add(O),g(),()=>{t&&1===m.layersWithOutsidePointerEventsDisabled.size&&(D.body.style.pointerEvents=v)}}),[O,D,t,m]),r.useEffect((()=>()=>{O&&(m.layers.delete(O),m.layersWithOutsidePointerEventsDisabled.delete(O),g())}),[O,m]),r.useEffect((()=>{const e=()=>T({});return document.addEventListener(C,e),()=>document.removeEventListener(C,e)}),[]),(0,f.jsx)(d.sG.div,{...p,ref:R,style:{pointerEvents:k?H?"auto":"none":void 0,...e.style},onFocusCapture:(0,o.m)(e.onFocusCapture,j.onFocusCapture),onBlurCapture:(0,o.m)(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:(0,o.m)(e.onPointerDownCapture,M.onPointerDownCapture)})}));O.displayName="DismissableLayer";var P=r.forwardRef(((e,n)=>{const t=r.useContext(b),o=r.useRef(null),s=(0,a.s)(n,o);return r.useEffect((()=>{const e=o.current;if(e)return t.branches.add(e),()=>{t.branches.delete(e)}}),[t.branches]),(0,f.jsx)(d.sG.div,{...e,ref:s})}));function g(){const e=new CustomEvent(C);document.dispatchEvent(e)}function N(e,n,t,{discrete:r}){const o=t.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),r?(0,d.hO)(o,s):o.dispatchEvent(s)}P.displayName="DismissableLayerBranch";var D,T="HoverCard",[R,x]=(0,s.A)(T,[u.Bk]),S=(0,u.Bk)(),[L,_]=R(T),k=e=>{const{__scopeHoverCard:n,children:t,open:o,defaultOpen:s,onOpenChange:a,openDelay:c=700,closeDelay:d=300}=e,l=S(n),p=r.useRef(0),v=r.useRef(0),m=r.useRef(!1),h=r.useRef(!1),[E=!1,C]=(0,i.i)({prop:o,defaultProp:s,onChange:a}),y=r.useCallback((()=>{clearTimeout(v.current),p.current=window.setTimeout((()=>C(!0)),c)}),[c,C]),w=r.useCallback((()=>{clearTimeout(p.current),m.current||h.current||(v.current=window.setTimeout((()=>C(!1)),d))}),[d,C]),b=r.useCallback((()=>C(!1)),[C]);return r.useEffect((()=>()=>{clearTimeout(p.current),clearTimeout(v.current)}),[]),(0,f.jsx)(L,{scope:n,open:E,onOpenChange:C,onOpen:y,onClose:w,onDismiss:b,hasSelectionRef:m,isPointerDownOnContentRef:h,children:(0,f.jsx)(u.bL,{...l,children:t})})};k.displayName=T;var H="HoverCardTrigger",M=r.forwardRef(((e,n)=>{const{__scopeHoverCard:t,...r}=e,s=_(H,t),i=S(t);return(0,f.jsx)(u.Mz,{asChild:!0,...i,children:(0,f.jsx)(d.sG.a,{"data-state":s.open?"open":"closed",...r,ref:n,onPointerEnter:(0,o.m)(e.onPointerEnter,G(s.onOpen)),onPointerLeave:(0,o.m)(e.onPointerLeave,G(s.onClose)),onFocus:(0,o.m)(e.onFocus,s.onOpen),onBlur:(0,o.m)(e.onBlur,s.onClose),onTouchStart:(0,o.m)(e.onTouchStart,(e=>e.preventDefault()))})})}));M.displayName=H;var j="HoverCardPortal",[A,I]=R(j,{forceMount:void 0}),U=e=>{const{__scopeHoverCard:n,forceMount:t,children:r,container:o}=e,s=_(j,n);return(0,f.jsx)(A,{scope:n,forceMount:t,children:(0,f.jsx)(m.C,{present:t||s.open,children:(0,f.jsx)(p,{asChild:!0,container:o,children:r})})})};U.displayName=j;var F="HoverCardContent",W=r.forwardRef(((e,n)=>{const t=I(F,e.__scopeHoverCard),{forceMount:r=t.forceMount,...s}=e,i=_(F,e.__scopeHoverCard);return(0,f.jsx)(m.C,{present:r||i.open,children:(0,f.jsx)(B,{"data-state":i.open?"open":"closed",...s,onPointerEnter:(0,o.m)(e.onPointerEnter,G(i.onOpen)),onPointerLeave:(0,o.m)(e.onPointerLeave,G(i.onClose)),ref:n})})}));W.displayName=F;var B=r.forwardRef(((e,n)=>{const{__scopeHoverCard:t,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:d,...l}=e,p=_(F,t),v=S(t),m=r.useRef(null),h=(0,a.s)(n,m),[E,C]=r.useState(!1);return r.useEffect((()=>{if(E){const e=document.body;return D=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=D,e.style.webkitUserSelect=D}}}),[E]),r.useEffect((()=>{if(m.current){const e=()=>{C(!1),p.isPointerDownOnContentRef.current=!1,setTimeout((()=>{""!==document.getSelection()?.toString()&&(p.hasSelectionRef.current=!0)}))};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e),p.hasSelectionRef.current=!1,p.isPointerDownOnContentRef.current=!1}}}),[p.isPointerDownOnContentRef,p.hasSelectionRef]),r.useEffect((()=>{if(m.current){(function(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)n.push(t.currentNode);return n})(m.current).forEach((e=>e.setAttribute("tabindex","-1")))}})),(0,f.jsx)(O,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:(0,o.m)(c,(e=>{e.preventDefault()})),onDismiss:p.onDismiss,children:(0,f.jsx)(u.UC,{...v,...l,onPointerDown:(0,o.m)(l.onPointerDown,(e=>{e.currentTarget.contains(e.target)&&C(!0),p.hasSelectionRef.current=!1,p.isPointerDownOnContentRef.current=!0})),ref:h,style:{...l.style,userSelect:E?"text":void 0,WebkitUserSelect:E?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})})),z=r.forwardRef(((e,n)=>{const{__scopeHoverCard:t,...r}=e,o=S(t);return(0,f.jsx)(u.i3,{...o,...r,ref:n})}));function G(e){return n=>"touch"===n.pointerType?void 0:e()}z.displayName="HoverCardArrow";var K=k,q=M,J=U,Q=W,V=z}}]);